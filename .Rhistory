paste0(params$hoverTextAes,": [",signif(as.numeric(r[["x"]]),4),", ",
signif(as.numeric(r[["xend"]],4)),"]"),r[["hovertext"]])
})
#x positions
d<-tidyr::gather(data,xposinline,x,x:xend)
#draw in appropriate y positions
d$y<-0
dline<-d
structure(dline, class = unique(c("GeomPath", class(dline))))
}
plotly::ggplotly(ggplot(dat, aes(x=x, group=people, fill=factor(people))) +
geom_histogram(binwidth=0.1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.6))
to_basic.GeomHdi<-function (data, prestats_data, layout, params, p, ...)
{
require(tidyr)
#put a confidence interval into the hovertext
# data$hovertext<-apply(data,1,
#                       function(r){
#                         sub(paste0(params$hoverTextAes,": -?\\d+(.\\d+)?(e\\d+)?"),
#                             paste0(params$hoverTextAes,": [",signif(as.numeric(r[["x"]]),4),", ",
#                                    signif(as.numeric(r[["xend"]],4)),"]"),r[["hovertext"]])
#                       })
#x positions
d<-tidyr::gather(data,xposinline,x,x:xend)
#draw in appropriate y positions
d$y<-0
dline<-d
structure(dline, class = unique(c("GeomPath", class(dline))))
}
plotly::ggplotly(ggplot(dat, aes(x=x, group=people, fill=factor(people))) +
geom_histogram(binwidth=0.1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.6))
to_basic.GeomHdi<-function (data, prestats_data, layout, params, p, ...)
{
require(tidyr)
#put a confidence interval into the hovertext
data$hovertext<-apply(data,1,
function(r){
gsub(paste0(params$hoverTextAes,": -?\\d+(.\\d+)?(e\\d+)?"),
paste0(params$hoverTextAes,": [",signif(as.numeric(r[["x"]]),4),", ",
signif(as.numeric(r[["xend"]],4)),"]"),r[["hovertext"]])
})
#x positions
d<-tidyr::gather(data,xposinline,x,x:xend)
#draw in appropriate y positions
d$y<-0
dline<-d
structure(dline, class = unique(c("GeomPath", class(dline))))
}
plotly::ggplotly(ggplot(dat, aes(x=x, group=people, fill=factor(people))) +
geom_histogram(binwidth=0.1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.6))
to_basic.GeomHdi<-function (data, prestats_data, layout, params, p, ...)
{
require(tidyr)
#put a confidence interval into the hovertext
data$hovertext<-apply(data,1,
function(r){
print(r[["hovertext"]])
gsub(paste0(params$hoverTextAes,": -?\\d+(.\\d+)?(e\\d+)?"),
paste0(params$hoverTextAes,": [",signif(as.numeric(r[["x"]]),4),", ",
signif(as.numeric(r[["xend"]],4)),"]"),r[["hovertext"]])
})
#x positions
d<-tidyr::gather(data,xposinline,x,x:xend)
#draw in appropriate y positions
d$y<-0
dline<-d
structure(dline, class = unique(c("GeomPath", class(dline))))
}
plotly::ggplotly(ggplot(dat, aes(x=x, group=people, fill=factor(people))) +
geom_histogram(binwidth=0.1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.6))
to_basic.GeomHdi<-function (data, prestats_data, layout, params, p, ...)
{
require(tidyr)
#put a confidence interval into the hovertext
data$hovertext<-apply(data,1,
function(r){
print(paste0(params$hoverTextAes,": -?\\d+(.\\d+)?(e\\d+)?"))
gsub(paste0(params$hoverTextAes,": -?\\d+(.\\d+)?(e\\d+)?"),
paste0(params$hoverTextAes,": [",signif(as.numeric(r[["x"]]),4),", ",
signif(as.numeric(r[["xend"]],4)),"]"),r[["hovertext"]])
})
#x positions
d<-tidyr::gather(data,xposinline,x,x:xend)
#draw in appropriate y positions
d$y<-0
dline<-d
structure(dline, class = unique(c("GeomPath", class(dline))))
}
plotly::ggplotly(ggplot(dat, aes(x=x, group=people, fill=factor(people))) +
geom_histogram(binwidth=0.1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.6))
params$hoverTextAes
to_basic.GeomHdi<-function (data, prestats_data, layout, params, p, ...)
{
require(tidyr)
#put a confidence interval into the hovertext
data$hovertext<-apply(data,1,
function(r){
print(length(params$hoverTextAes))
print(paste0(params$hoverTextAes,": -?\\d+(.\\d+)?(e\\d+)?"))
gsub(paste0(params$hoverTextAes,": -?\\d+(.\\d+)?(e\\d+)?"),
paste0(params$hoverTextAes,": [",signif(as.numeric(r[["x"]]),4),", ",
signif(as.numeric(r[["xend"]],4)),"]"),r[["hovertext"]])
})
#x positions
d<-tidyr::gather(data,xposinline,x,x:xend)
#draw in appropriate y positions
d$y<-0
dline<-d
structure(dline, class = unique(c("GeomPath", class(dline))))
}
to_basic.GeomHdi<-function (data, prestats_data, layout, params, p, ...)
{
require(tidyr)
#put a confidence interval into the hovertext
data$hovertext<-apply(data,1,
function(r){
print(length(params$hoverTextAes))
#print(paste0(params$hoverTextAes,": -?\\d+(.\\d+)?(e\\d+)?"))
gsub(paste0(params$hoverTextAes,": -?\\d+(.\\d+)?(e\\d+)?"),
paste0(params$hoverTextAes,": [",signif(as.numeric(r[["x"]]),4),", ",
signif(as.numeric(r[["xend"]],4)),"]"),r[["hovertext"]])
})
#x positions
d<-tidyr::gather(data,xposinline,x,x:xend)
#draw in appropriate y positions
d$y<-0
dline<-d
structure(dline, class = unique(c("GeomPath", class(dline))))
}
plotly::ggplotly(ggplot(dat, aes(x=x, group=people, fill=factor(people))) +
geom_histogram(binwidth=0.1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.6))
params$hoverTextAes
to_basic.GeomHdi<-function (data, prestats_data, layout, params, p, ...)
{
require(tidyr)
print(data$hovertext)
print(params$hoverTextAes)
#put a confidence interval into the hovertext
data$hovertext<-apply(data,1,
function(r){
sub(paste0(params$hoverTextAes,": -?\\d+(.\\d+)?(e\\d+)?"),
paste0(params$hoverTextAes,": [",signif(as.numeric(r[["x"]]),4),", ",
signif(as.numeric(r[["xend"]],4)),"]"),r[["hovertext"]])
})
#x positions
d<-tidyr::gather(data,xposinline,x,x:xend)
#draw in appropriate y positions
d$y<-0
dline<-d
structure(dline, class = unique(c("GeomPath", class(dline))))
}
plotly::ggplotly(ggplot(dat, aes(x=x, group=people, fill=factor(people))) +
geom_histogram(binwidth=0.1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.6))
to_basic.GeomHdi<-function (data, prestats_data, layout, params, p, ...)
{
require(tidyr)
print("HOVERTEXT")
print(data$hovertext)
print("PARAMS$HOVERTEXT")
print(params$hoverTextAes)
#put a confidence interval into the hovertext
data$hovertext<-apply(data,1,
function(r){
sub(paste0(params$hoverTextAes,": -?\\d+(.\\d+)?(e\\d+)?"),
paste0(params$hoverTextAes,": [",signif(as.numeric(r[["x"]]),4),", ",
signif(as.numeric(r[["xend"]],4)),"]"),r[["hovertext"]])
})
#x positions
d<-tidyr::gather(data,xposinline,x,x:xend)
#draw in appropriate y positions
d$y<-0
dline<-d
structure(dline, class = unique(c("GeomPath", class(dline))))
}
plotly::ggplotly(ggplot(dat, aes(x=x, group=people, fill=factor(people))) +
geom_histogram(binwidth=0.1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.6))
to_basic.GeomHdi<-function (data, prestats_data, layout, params, p, ...)
{
require(tidyr)
print("HOVERTEXT")
print(data$hovertext)
print("PARAMS$HOVERTEXT")
print(params$hoverTextAes)
#put a confidence interval into the hovertext
data$hovertext<-apply(data,1,
function(r){
sub(paste0(params$hoverTextAes$x,": -?\\d+(.\\d+)?(e\\d+)?"),
paste0(params$hoverTextAes$x,": [",signif(as.numeric(r[["x"]]),4),", ",
signif(as.numeric(r[["xend"]],4)),"]"),r[["hovertext"]])
})
#x positions
d<-tidyr::gather(data,xposinline,x,x:xend)
#draw in appropriate y positions
d$y<-0
dline<-d
structure(dline, class = unique(c("GeomPath", class(dline))))
}
plotly::ggplotly(ggplot(dat, aes(x=x, group=people, fill=factor(people))) +
geom_histogram(binwidth=0.1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.6))
to_basic.GeomHdi<-function (data, prestats_data, layout, params, p, ...)
{
require(tidyr)
print("HOVERTEXT")
print(data$hovertext)
print("PARAMS$HOVERTEXT")
print(params$hoverTextAes)
#put a confidence interval into the hovertext
data$hovertext<-apply(data,1,
function(r){
sub(paste0(params$hoverTextAes[["x"]],": -?\\d+(.\\d+)?(e\\d+)?"),
paste0(params$hoverTextAes[["x"]],": [",signif(as.numeric(r[["x"]]),4),", ",
signif(as.numeric(r[["xend"]],4)),"]"),r[["hovertext"]])
})
#x positions
d<-tidyr::gather(data,xposinline,x,x:xend)
#draw in appropriate y positions
d$y<-0
dline<-d
structure(dline, class = unique(c("GeomPath", class(dline))))
}
plotly::ggplotly(ggplot(dat, aes(x=x, group=people, fill=factor(people))) +
geom_histogram(binwidth=0.1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.6))
to_basic.GeomHdi<-function (data, prestats_data, layout, params, p, ...)
{
require(tidyr)
print("HOVERTEXT")
print(data$hovertext)
print("PARAMS$HOVERTEXT")
print(params$hoverTextAes)
#put a confidence interval into the hovertext
data$hovertext<-apply(data,1,
function(r){
sub(paste0(params$hoverTextAes[["x"]],": -?\\d+(.\\d+)?(e\\d+)?"),
paste0(params$hoverTextAes[["x"]],": [",signif(as.numeric(r[["x"]]),4),", ",
signif(as.numeric(r[["xend"]],4)),"]"),r[["hovertext"]])
})
#x positions
d<-tidyr::gather(data,xposinline,x,x:xend)
#draw in appropriate y positions
d$y<-0
dline<-d
structure(dline, class = unique(c("GeomPath", class(dline))))
}
plotly::ggplotly(ggplot(dat, aes(x=x, group=people, fill=factor(people))) +
geom_histogram(binwidth=0.1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.6))
to_basic.GeomHdi<-function (data, prestats_data, layout, params, p, ...)
{
require(tidyr)
#put a confidence interval into the hovertext
data$hovertext<-apply(data,1,
function(r){
sub(paste0(params$hoverTextAes[["x"]],": -?\\d+(.\\d+)?(e\\d+)?"),
paste0(params$hoverTextAes[["x"]],": [",signif(as.numeric(r[["x"]]),4),", ",
signif(as.numeric(r[["xend"]],4)),"]"),r[["hovertext"]])
})
#x positions
d<-tidyr::gather(data,xposinline,x,x:xend)
#draw in appropriate y positions
d$y<-0
dline<-d
structure(dline, class = unique(c("GeomPath", class(dline))))
}
plotly::ggplotly(ggplot(dat, aes(x=x, group=people, fill=factor(people))) +
geom_histogram(binwidth=0.1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.6))
to_basic.GeomHdi<-function (data, prestats_data, layout, params, p, ...)
{
require(tidyr)
#x positions
d<-tidyr::gather(data,xposinline,x,x:xend)
#draw in appropriate y positions
d$y<-0
dline<-d
structure(dline, class = unique(c("GeomPath", class(dline))))
}
plotly::ggplotly(ggplot(dat, aes(x=x, group=people, fill=factor(people))) +
geom_histogram(binwidth=0.1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.6))
dat<-data.frame("height"=c(rnorm(1000,175,1),rnorm(1000,168,1)),
"people"=c(rep("Men",1000),rep("Women",1000)))
ggplot(dat, aes(x=x, group=people, fill=factor(people))) +
geom_histogram(binwidth=0.1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.6)
dat<-data.frame("height"=c(rnorm(1000,175,1),rnorm(1000,168,1)),
"people"=c(rep("Men",1000),rep("Women",1000)))
ggplot(dat, aes(x=height, group=people, fill=factor(people))) +
geom_histogram(binwidth=0.1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.6)
heights.usa<-data.frame("height"=c(rnorm(1000,176,7),rnorm(1000,162,6)),
"people"=c(rep("Men",1000),rep("Women",1000)))
#https://biology.stackexchange.com/questions/9730/what-is-the-standard-deviation-of-adult-human-heights-for-males-and-females
#https://en.wikipedia.org/wiki/List_of_average_human_height_worldwide
ggplot(dat, aes(x=height, group=people, fill=factor(people))) +
geom_histogram(binwidth=0.1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.6)
heights.usa<-data.frame("height"=c(rnorm(1000,176,7),rnorm(1000,162,6)),
"people"=c(rep("Men",1000),rep("Women",1000)))
#https://biology.stackexchange.com/questions/9730/what-is-the-standard-deviation-of-adult-human-heights-for-males-and-females
#https://en.wikipedia.org/wiki/List_of_average_human_height_worldwide
ggplot(heights.usa, aes(x=height, group=people, fill=factor(people))) +
geom_histogram(binwidth=0.1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.6)
heights.usa<-data.frame("height"=c(rnorm(1000,176,7),rnorm(1000,162,6)),
"people"=c(rep("Men",1000),rep("Women",1000)))
#https://biology.stackexchange.com/questions/9730/what-is-the-standard-deviation-of-adult-human-heights-for-males-and-females
#https://en.wikipedia.org/wiki/List_of_average_human_height_worldwide
ggplot(heights.usa, aes(x=height, group=people, fill=factor(people))) +
geom_histogram(binwidth=1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.6)
heights.usa<-data.frame("height"=c(rnorm(1000,176,7),rnorm(1000,162,6)),
"people"=c(rep("Men",1000),rep("Women",1000)))
#https://biology.stackexchange.com/questions/9730/what-is-the-standard-deviation-of-adult-human-heights-for-males-and-females
#https://en.wikipedia.org/wiki/List_of_average_human_height_worldwide
ggplot(heights.usa, aes(x=height, group=people, fill=factor(people))) +
geom_histogram(binwidth=1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.6)+
labs(title="US adult height distribution by gender")
ggplot(heights.usa, aes(x=height, group=people, fill=factor(people))) +
geom_histogram(binwidth=1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.8)+
labs(title="US adult height distribution by gender")
heights.usa<-data.frame("height"=c(rnorm(1000,176,7),rnorm(1000,162,6)),
"people"=c(rep("Men",1000),rep("Women",1000)))
#https://biology.stackexchange.com/questions/9730/what-is-the-standard-deviation-of-adult-human-heights-for-males-and-females
#https://en.wikipedia.org/wiki/List_of_average_human_height_worldwide
ggplot(heights.usa, aes(x=height, group=people, fill=factor(people))) +
geom_histogram(binwidth=1,alpha=0.4)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.8)+
labs(title="US adult height distribution by gender")
heights.usa<-data.frame("height"=c(rnorm(1000,176,7),rnorm(1000,162,6)),
"people"=c(rep("Men",1000),rep("Women",1000)))
#https://biology.stackexchange.com/questions/9730/what-is-the-standard-deviation-of-adult-human-heights-for-males-and-females
#https://en.wikipedia.org/wiki/List_of_average_human_height_worldwide
ggplot(heights.usa, aes(x=height, group=people, fill=factor(people))) +
geom_histogram(binwidth=1,alpha=0.7)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.8)+
labs(title="US adult height distribution by gender")
heights.usa<-data.frame("height"=c(rnorm(1000,176,7),rnorm(1000,162,6)),
"people"=c(rep("Men",1000),rep("Women",1000)))
#https://biology.stackexchange.com/questions/9730/what-is-the-standard-deviation-of-adult-human-heights-for-males-and-females
#https://en.wikipedia.org/wiki/List_of_average_human_height_worldwide
ggplot(heights.usa, aes(x=height, group=people, fill=factor(people))) +
geom_histogram(binwidth=1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.8)+
labs(title="US adult height distribution by gender")
heights.usa<-data.frame("height"=c(rnorm(1000,176,7),rnorm(1000,162,6)),
"people"=c(rep("Men",1000),rep("Women",1000)))
#https://biology.stackexchange.com/questions/9730/what-is-the-standard-deviation-of-adult-human-heights-for-males-and-females
#https://en.wikipedia.org/wiki/List_of_average_human_height_worldwide
set.seed(42)
ggplot(heights.usa, aes(x=height, group=people, fill=factor(people))) +
geom_histogram(binwidth=1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.8)+
labs(title="US adult height distribution by gender")
heights.usa<-data.frame("height"=c(rnorm(1000,176,7),rnorm(1000,162,6)),
"people"=c(rep("Men",1000),rep("Women",1000)))
#https://biology.stackexchange.com/questions/9730/what-is-the-standard-deviation-of-adult-human-heights-for-males-and-females
#https://en.wikipedia.org/wiki/List_of_average_human_height_worldwide
set.seed(42)
ggplot(heights.usa, aes(x=height, group=people, fill=factor(people))) +
geom_histogram(binwidth=1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.8)+
labs(title="US adult height distribution by gender")
set.seed(42)
heights.usa<-data.frame("height"=c(rnorm(1000,176,7),rnorm(1000,162,6)),
"people"=c(rep("Men",1000),rep("Women",1000)))
#https://biology.stackexchange.com/questions/9730/what-is-the-standard-deviation-of-adult-human-heights-for-males-and-females
#https://en.wikipedia.org/wiki/List_of_average_human_height_worldwide
ggplot(heights.usa, aes(x=height, group=people, fill=factor(people))) +
geom_histogram(binwidth=1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.8)+
labs(title="US adult height distribution by gender")
set.seed(42)
heights.usa<-data.frame("height"=c(rnorm(1000,176,7),rnorm(1000,162,6)),
"people"=c(rep("Men",1000),rep("Women",1000)))
#https://biology.stackexchange.com/questions/9730/what-is-the-standard-deviation-of-adult-human-heights-for-males-and-females
#https://en.wikipedia.org/wiki/List_of_average_human_height_worldwide
ggplot(heights.usa, aes(x=height, group=people, fill=factor(people))) +
geom_freqpoly(binwidth=1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.8)+
labs(title="US adult height distribution by gender",x="height (cm)")
set.seed(42)
heights.usa<-data.frame("height"=c(rnorm(1000,176,7),rnorm(1000,162,6)),
"people"=c(rep("Men",1000),rep("Women",1000)))
#https://biology.stackexchange.com/questions/9730/what-is-the-standard-deviation-of-adult-human-heights-for-males-and-females
#https://en.wikipedia.org/wiki/List_of_average_human_height_worldwide
ggplot(heights.usa, aes(x=height, group=people, fill=factor(people),color=factor(people))) +
geom_freqpoly(binwidth=1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.8)+
labs(title="US adult height distribution by gender",x="height (cm)")
set.seed(42)
heights.usa<-data.frame("height"=c(rnorm(1000,176,7),rnorm(1000,162,6)),
"people"=c(rep("Men",1000),rep("Women",1000)))
#https://biology.stackexchange.com/questions/9730/what-is-the-standard-deviation-of-adult-human-heights-for-males-and-females
#https://en.wikipedia.org/wiki/List_of_average_human_height_worldwide
height.plot<-ggplot(heights.usa, aes(x=height, group=people, fill=factor(people),color=factor(people))) +
geom_freqpoly(binwidth=1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.8)+
labs(title="US adult height distribution by gender",x="height (cm)")
set.seed(42)
heights.usa<-data.frame("height"=c(rnorm(1000,176,7),rnorm(1000,162,6)),
"people"=c(rep("Men",1000),rep("Women",1000)))
#https://biology.stackexchange.com/questions/9730/what-is-the-standard-deviation-of-adult-human-heights-for-males-and-females
#https://en.wikipedia.org/wiki/List_of_average_human_height_worldwide
height.plot<-ggplot(heights.usa, aes(x=height, group=people, fill=factor(people),color=factor(people))) +
geom_freqpoly(binwidth=1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.8)+
labs(title="US adult height distribution by gender",x="height (cm)")
set.seed(42)
heights.usa<-data.frame("height"=c(rnorm(1000,176,7),rnorm(1000,162,6)),
"people"=c(rep("Men",1000),rep("Women",1000)))
#https://biology.stackexchange.com/questions/9730/what-is-the-standard-deviation-of-adult-human-heights-for-males-and-females
#https://en.wikipedia.org/wiki/List_of_average_human_height_worldwide
height.plot<-ggplot(heights.usa, aes(x=height, group=people, fill=factor(people),color=factor(people))) +
geom_freqpoly(binwidth=1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.8)+
labs(title="US adult height distribution by gender",x="height (cm)")
height.plot
plotly::ggplotly(height.plot)
set.seed(42)
heights.usa<-data.frame("height"=c(rnorm(1000,176,7),rnorm(1000,162,6)),
"people"=c(rep("Men",1000),rep("Women",1000)))
#https://biology.stackexchange.com/questions/9730/what-is-the-standard-deviation-of-adult-human-heights-for-males-and-females
#https://en.wikipedia.org/wiki/List_of_average_human_height_worldwide
height.plot<-ggplot(heights.usa, aes(x=height, group=people, fill=factor(people),color=factor(people))) +
geom_freqpoly(binwidth=1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.8)+
labs(title="US adult height distribution by gender\nCount per thousand adults",x="height (cm)")
height.plot
set.seed(42)
heights.usa<-data.frame("height"=c(rnorm(1000,176,7),rnorm(1000,162,6)),
"people"=c(rep("Men",1000),rep("Women",1000)))
#https://biology.stackexchange.com/questions/9730/what-is-the-standard-deviation-of-adult-human-heights-for-males-and-females
#https://en.wikipedia.org/wiki/List_of_average_human_height_worldwide
height.plot<-ggplot(heights.usa, aes(x=height, group=people, fill=factor(people),color=factor(people))) +
geom_freqpoly(binwidth=2)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.8)+
labs(title="US adult height distribution by gender\nCount per thousand adults",x="height (cm)")
height.plot
plotly::ggplotly(height.plot)
set.seed(42)
heights.usa<-data.frame("height"=c(rnorm(1000,176,7),rnorm(1000,162,6)),
"people"=c(rep("Men",1000),rep("Women",1000)))
#https://biology.stackexchange.com/questions/9730/what-is-the-standard-deviation-of-adult-human-heights-for-males-and-females
#https://en.wikipedia.org/wiki/List_of_average_human_height_worldwide
height.plot<-ggplot(heights.usa, aes(x=height, group=people, fill=factor(people),color=factor(people))) +
geom_freqpoly(binwidth=1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.8)+
labs(title="US adult height distribution by gender\nCount per thousand adults",x="height (cm)")
height.plot
set.seed(42)
heights.usa<-data.frame("height"=c(rnorm(1000000,176,7),rnorm(1000000,162,6)),
"people"=c(rep("Men",1000000),rep("Women",1000000)))
#https://biology.stackexchange.com/questions/9730/what-is-the-standard-deviation-of-adult-human-heights-for-males-and-females
#https://en.wikipedia.org/wiki/List_of_average_human_height_worldwide
height.plot<-ggplot(heights.usa, aes(x=height, group=people, fill=factor(people),color=factor(people))) +
geom_freqpoly(binwidth=1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.8)+
labs(title="US adult height distribution by gender\nCount per thousand adults",x="height (cm)")
height.plot
plotly::ggplotly(height.plot)
set.seed(42)
heights.usa<-data.frame("height"=c(rnorm(1000000,176,7),rnorm(1000000,162,6)),
"people"=c(rep("Men",1000000),rep("Women",1000000)))
#https://biology.stackexchange.com/questions/9730/what-is-the-standard-deviation-of-adult-human-heights-for-males-and-females
#https://en.wikipedia.org/wiki/List_of_average_human_height_worldwide
height.plot<-ggplot(heights.usa, aes(x=height, group=people, fill=factor(people),color=factor(people))) +
geom_freqpoly(binwidth=1)+
geom_hdi(aes(color=people),lineend="round",size=2,credible_mass=0.95,alpha=0.8)+
labs(title="US adult height distribution by gender\nCount per million adults",x="height (cm)")
height.plot
plotly::ggplotly(height.plot)
plotly::ggplotly(height.plot)
to_basic.GeomHdi<-function (data, prestats_data, layout, params, p, ...)
{
require(tidyr)
#put a confidence interval into the hovertext
data$hovertext<-apply(data,1,
function(r){
sub(paste0(params$hoverTextAes[["x"]],": -?\\d+(.\\d+)?(e\\d+)?"),
paste0(params$hoverTextAes[["x"]],": [",signif(as.numeric(r[["x"]]),4),", ",
signif(as.numeric(r[["xend"]],4)),"]"),r[["hovertext"]])
})
#x positions
d<-tidyr::gather(data,xposinline,x,x:xend)
#draw in appropriate y positions
d$y<-0
dline<-d
structure(dline, class = unique(c("GeomPath", class(dline))))
}
plotly::ggplotly(height.plot)
blogdown:::serve_site()
blogdown:::serve_site()
setwd("~/GDrive/website/www")
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::update_meta_addin()
blogdown:::serve_site()
blogdown:::serve_site()
